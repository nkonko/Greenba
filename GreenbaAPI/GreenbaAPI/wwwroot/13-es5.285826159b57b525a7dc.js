function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"6ANv":function(t,e,n){"use strict";n.r(e),n.d(e,"ShopModule",(function(){return J}));var r,o=n("SVse"),i=n("PCNd"),c=n("iInd"),a=n("XJHN"),s=n("8Y7J"),u=n("mwRl"),l=n("/gyc"),b=n("s7LF"),p=n("cAP4"),d=n("TSSN"),h=((r=function(){function t(e){_classCallCheck(this,t),this.basketService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"addItemToBasket",value:function(){this.basketService.addItemToBasket(this.product)}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Pb(p.a))},r.\u0275cmp=s.Jb({type:r,selectors:[["app-product-item"]],inputs:{product:"product"},decls:15,vars:11,consts:[[1,"card","h-100","shadow-sm"],[1,"image","position-relative",2,"cursor","pointer"],[1,"img-fluid","bg-info",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],["type","button",1,"btn","btn-primary","fa","fa-shopping-cart","mr-2",3,"click"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"card-body","d-flex","flex-column"],[3,"routerLink"],[1,"text-uppercase"],[1,"mb-2"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Qb(2,"img",2),s.Vb(3,"div",3),s.Vb(4,"button",4),s.dc("click",(function(){return e.addItemToBasket()})),s.Ub(),s.Vb(5,"button",5),s.Jc(6),s.hc(7,"translate"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",6),s.Vb(9,"a",7),s.Vb(10,"h6",8),s.Jc(11),s.Ub(),s.Ub(),s.Vb(12,"span",9),s.Jc(13),s.hc(14,"currency"),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Bb(2),s.oc("src",e.product.pictureUrl,s.Cc),s.oc("alt",e.product.name),s.Bb(3),s.pc("routerLink","/shop/",e.product.id,""),s.Bb(1),s.Kc(s.ic(7,7,"shop.product-item.viewButton")),s.Bb(3),s.pc("routerLink","/shop/",e.product.id,""),s.Bb(2),s.Kc(e.product.name),s.Bb(2),s.Kc(s.ic(14,9,e.product.price)))},directives:[c.d,c.f],pipes:[d.c,o.d],styles:[".btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:none;opacity:1}.hover-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:hsla(0,0%,100%,.5);opacity:0;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1000;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{transform:translateX(-20px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{transform:translateX(20px)}"]}),r),f=n("a4eG"),m=["search"];function g(t,e){if(1&t&&(s.Vb(0,"option",16),s.Jc(1),s.Ub()),2&t){var n=e.$implicit,r=s.gc(2);s.nc("selected",r.shopParams.sort===n.value)("value",n.value),s.Bb(1),s.Kc(n.name)}}function v(t,e){if(1&t){var n=s.Wb();s.Vb(0,"li",17),s.dc("click",(function(){s.Ac(n);var t=e.$implicit;return s.gc(2).onBrandSelected(t.id)})),s.Jc(1),s.Ub()}if(2&t){var r=e.$implicit,o=s.gc(2);s.Gb("active",r.id===o.shopParams.brandId),s.nc("value",r.id),s.Bb(1),s.Lc(" ",r.name," ")}}function y(t,e){if(1&t){var n=s.Wb();s.Vb(0,"li",17),s.dc("click",(function(){s.Ac(n);var t=e.$implicit;return s.gc(2).onTypeSelected(t.id)})),s.Jc(1),s.Ub()}if(2&t){var r=e.$implicit,o=s.gc(2);s.Gb("active",r.id===o.shopParams.typeId),s.nc("value",r.id),s.Bb(1),s.Lc(" ",r.name," ")}}function S(t,e){if(1&t){var n=s.Wb();s.Tb(0),s.Vb(1,"h5",10),s.Jc(2),s.hc(3,"translate"),s.Ub(),s.Vb(4,"select",11),s.dc("change",(function(t){return s.Ac(n),s.gc().onSortSelected(t.target.value)})),s.Hc(5,g,2,3,"option",12),s.Ub(),s.Vb(6,"h5",13),s.Jc(7),s.hc(8,"translate"),s.Ub(),s.Vb(9,"ul",14),s.Hc(10,v,2,4,"li",15),s.Ub(),s.Vb(11,"h5",13),s.Jc(12),s.hc(13,"translate"),s.Ub(),s.Vb(14,"ul",14),s.Hc(15,y,2,4,"li",15),s.Ub(),s.Sb()}if(2&t){var r=s.gc();s.Bb(2),s.Kc(s.ic(3,6,"shop.sort")),s.Bb(3),s.nc("ngForOf",r.sortOptions),s.Bb(2),s.Kc(s.ic(8,8,"shop.brands")),s.Bb(3),s.nc("ngForOf",r.brands),s.Bb(2),s.Kc(s.ic(13,10,"shop.categories")),s.Bb(3),s.nc("ngForOf",r.types)}}function P(t,e){if(1&t){var n=s.Wb();s.Vb(0,"div",18),s.Vb(1,"input",19,20),s.dc("keyup.enter",(function(){return s.Ac(n),s.gc().onSearch()})),s.hc(3,"translate"),s.Ub(),s.Vb(4,"button",21),s.dc("click",(function(){return s.Ac(n),s.gc().onSearch()})),s.Jc(5),s.hc(6,"translate"),s.Ub(),s.Vb(7,"button",22),s.dc("click",(function(){return s.Ac(n),s.gc().onReset()})),s.Jc(8),s.hc(9,"translate"),s.Ub(),s.Ub()}2&t&&(s.Bb(1),s.oc("placeholder",s.ic(3,3,"shop.searchButton")),s.Bb(4),s.Lc(" ",s.ic(6,5,"shop.searchButton")," "),s.Bb(3),s.Lc(" ",s.ic(9,7,"shop.deleteButton")," "))}function k(t,e){if(1&t&&(s.Vb(0,"div",23),s.Qb(1,"app-product-item",24),s.Ub()),2&t){var n=e.$implicit;s.Bb(1),s.nc("product",n)}}function C(t,e){if(1&t){var n=s.Wb();s.Vb(0,"div",25),s.Vb(1,"app-pager",26),s.dc("pageChanged",(function(t){return s.Ac(n),s.gc().onPageChanged(t)})),s.Ub(),s.Ub()}if(2&t){var r=s.gc();s.Bb(1),s.nc("pageSize",r.shopParams.pageSize)("totalCount",r.totalCount)("pageNumber",r.shopParams.pageNumber)}}var U,B=((U=function(){function t(e){_classCallCheck(this,t),this.shopService=e,this.sortOptions=[{name:"Alfabetico",value:"name"},{name:"Precio: Bajo a alto",value:"priceAsc"},{name:"Precio: Alto a bajo",value:"priceDesc"}],this.shopParams=this.shopService.getShopParams()}return _createClass(t,[{key:"ngOnInit",value:function(){this.getProducts(!0),this.getBrands(),this.getTypes()}},{key:"getProducts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.shopService.getProducts(e).subscribe((function(e){t.products=e.data,t.totalCount=e.count}),(function(t){console.log(t)}))}},{key:"getBrands",value:function(){var t=this;this.shopService.getBrands().subscribe((function(e){t.brands=[{id:0,name:"Todas"}].concat(_toConsumableArray(e))}),(function(t){console.log(t)}))}},{key:"getTypes",value:function(){var t=this;this.shopService.getTypes().subscribe((function(e){t.types=[{id:0,name:"Todas"}].concat(_toConsumableArray(e))}),(function(t){console.log(t)}))}},{key:"onBrandSelected",value:function(t){var e=this.shopService.getShopParams();e.brandId=t,e.pageNumber=1,this.shopService.setShopParams(e),this.getProducts()}},{key:"onTypeSelected",value:function(t){var e=this.shopService.getShopParams();e.typeId=t,e.pageNumber=1,this.shopService.setShopParams(e),this.getProducts()}},{key:"onSortSelected",value:function(t){var e=this.shopService.getShopParams();e.sort=t,this.shopService.setShopParams(e),this.getProducts()}},{key:"onPageChanged",value:function(t){var e=this.shopService.getShopParams();e.pageNumber!==t&&(e.pageNumber=t,this.shopService.setShopParams(e),this.getProducts(!0))}},{key:"onSearch",value:function(){var t=this.shopService.getShopParams();t.search=this.searchTerm.nativeElement.value,t.pageNumber=1,this.shopService.setShopParams(t),this.getProducts()}},{key:"onReset",value:function(){this.searchTerm.nativeElement.value="",this.shopParams=new a.a,this.shopService.setShopParams(this.shopParams),this.getProducts()}}]),t}()).\u0275fac=function(t){return new(t||U)(s.Pb(u.a))},U.\u0275cmp=s.Jb({type:U,selectors:[["app-shop"]],viewQuery:function(t,e){var n;1&t&&s.Oc(m,!0),2&t&&s.wc(n=s.ec())&&(e.searchTerm=n.first)},decls:11,vars:7,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-3"],[4,"ngIf"],[1,"col-9"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[3,"totalCount","pageSize","pageNumber"],["class","form-inline",4,"ngIf"],["class","col-4 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"text-warning","ml-3","mt-4","mb-3"],[1,"custom-select","mb-3","mb-4",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"text-warning","ml-3"],[1,"list-group","my-3"],["class","list-group-item",3,"active","value","click",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"list-group-item",3,"value","click"],[1,"form-inline"],["type","text",1,"form-control","mr-2",2,"width","300px",3,"placeholder","keyup.enter"],["search",""],[1,"btn","btn-outline-primary","my-2",3,"click"],[1,"btn","btn-outline-success","ml-2","my-2",3,"click"],[1,"col-4","mb-4"],[3,"product"],[1,"d-flex","justify-content-center"],[3,"pageSize","totalCount","pageNumber","pageChanged"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"section",2),s.Hc(3,S,16,12,"ng-container",3),s.Ub(),s.Vb(4,"section",4),s.Vb(5,"div",5),s.Qb(6,"app-paging-header",6),s.Hc(7,P,10,9,"div",7),s.Ub(),s.Vb(8,"div",1),s.Hc(9,k,2,1,"div",8),s.Ub(),s.Hc(10,C,2,3,"div",9),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Bb(3),s.nc("ngIf",e.types&&e.brands),s.Bb(3),s.nc("totalCount",e.totalCount)("pageSize",e.shopParams.pageSize)("pageNumber",e.shopParams.pageNumber),s.Bb(1),s.nc("ngIf",e.products),s.Bb(2),s.nc("ngForOf",e.products),s.Bb(1),s.nc("ngIf",e.totalCount>0))},directives:[o.m,l.a,o.l,b.o,b.s,h,f.a],pipes:[d.c],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer;border:none;padding:10px 20px;font-size:1.1em}.list-group-item[_ngcontent-%COMP%]:focus{outline:none}.list-group-item.active[_ngcontent-%COMP%]{border-radius:10px}.list-group-item[_ngcontent-%COMP%]:not(.active):hover{color:#fff;background-color:rgba(233,86,32,.705);border-radius:10px}"]}),U),_=n("sJwy"),V=n("GlbF");function w(t,e){if(1&t){var n=s.Wb();s.Vb(0,"div",2),s.Vb(1,"div",3),s.Qb(2,"ngx-gallery",4),s.Ub(),s.Vb(3,"div",3),s.Vb(4,"h3"),s.Jc(5),s.Ub(),s.Vb(6,"p",5),s.Jc(7),s.hc(8,"currency"),s.Ub(),s.Vb(9,"div",6),s.Vb(10,"i",7),s.dc("click",(function(){return s.Ac(n),s.gc().decrementQuantity()})),s.Ub(),s.Vb(11,"span",8),s.Jc(12),s.Ub(),s.Vb(13,"i",9),s.dc("click",(function(){return s.Ac(n),s.gc().incrementQuantity()})),s.Ub(),s.Vb(14,"button",10),s.dc("click",(function(){return s.Ac(n),s.gc().addItemToBasket()})),s.Jc(15),s.hc(16,"translate"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",11),s.Vb(18,"div",12),s.Vb(19,"h4"),s.Jc(20),s.hc(21,"translate"),s.Ub(),s.Vb(22,"p"),s.Jc(23),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&t){var r=s.gc();s.Bb(2),s.nc("options",r.galleryOptions)("images",r.galleryImages),s.Bb(3),s.Kc(r.product.name),s.Bb(2),s.Kc(s.ic(8,8,r.product.price)),s.Bb(5),s.Kc(r.quantity),s.Bb(3),s.Kc(s.ic(16,10,"shop.product-details.addToCartButton")),s.Bb(5),s.Kc(s.ic(21,12,"shop.product-details.productDescription")),s.Bb(3),s.Kc(r.product.description)}}var I,O,A,T=[{path:"",component:B},{path:":id",component:(I=function(){function t(e,n,r,o){_classCallCheck(this,t),this.shopService=e,this.activatedRoute=n,this.bcService=r,this.basketService=o,this.quantity=1,r.set("@productDetails","")}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadProduct()}},{key:"initializeGallery",value:function(){this.galleryOptions=[{width:"500px",height:"600px",imagePercent:100,thumbnailsColumns:4,imageAnimation:_.a.Fade,imageSize:_.c.Contain,thumbnailSize:_.c.Contain,preview:!1}],this.galleryImages=this.getImages()}},{key:"getImages",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.product.photos);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push({small:r.pictureUrl,medium:r.pictureUrl,big:r.pictureUrl})}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"addItemToBasket",value:function(){this.basketService.addItemToBasket(this.product,this.quantity)}},{key:"incrementQuantity",value:function(){this.quantity++}},{key:"decrementQuantity",value:function(){this.quantity>1&&this.quantity--}},{key:"loadProduct",value:function(){var t=this;this.shopService.getProduct(+this.activatedRoute.snapshot.paramMap.get("id")).subscribe((function(e){t.product=e,t.bcService.set("@productDetails",e.name),t.initializeGallery()}),(function(t){return console.log(t)}))}}]),t}(),I.\u0275fac=function(t){return new(t||I)(s.Pb(u.a),s.Pb(c.a),s.Pb(V.c),s.Pb(p.a))},I.\u0275cmp=s.Jb({type:I,selectors:[["app-product-details"]],decls:2,vars:1,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[2,"display","inline-block","margin-bottom","20px",3,"options","images"],[2,"font-size","2em"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","mr-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-warning","mx-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"btn","btn-outline-primary","btn-lg","ml-4",3,"click"],[1,"row","mt-5"],[1,"col-12","ml-3"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Hc(1,w,24,14,"div",1),s.Ub()),2&t&&(s.Bb(1),s.nc("ngIf",e.product))},directives:[o.m,_.b],pipes:[o.d,d.c],styles:[""]}),I),data:{breadcrumb:{alias:"productDetails"}}}],x=((A=function t(){_classCallCheck(this,t)}).\u0275mod=s.Nb({type:A}),A.\u0275inj=s.Mb({factory:function(t){return new(t||A)},imports:[[c.g.forChild(T)],c.g]}),A),J=((O=function t(){_classCallCheck(this,t)}).\u0275mod=s.Nb({type:O}),O.\u0275inj=s.Mb({factory:function(t){return new(t||O)},imports:[[o.c,i.a,x,d.b]]}),O)}}]);