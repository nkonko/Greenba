<section class="admin-page" *ngIf="products">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="d-flex justify-content-between my-3">
                    <header class="h2">{{'adminProduct.productList' | translate}}</header>
                    <button [routerLink]="['/admin/create']" class="btn btn-outline-success">{{'adminProduct.addNewProduct' | translate}}</button>
                </div>

                <app-paging-header [totalCount]="totalCount" [pageSize]="this.shopParams.pageSize" [pageNumber]="this.shopParams.pageNumber"></app-paging-header>

                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">
                                    <div class="p-2">#</div>
                                </th>
                                <th scope="col">
                                    <div class="p-2 text-uppercase">{{'adminProduct.product' | translate}}</div>
                                </th>
                                <th scope="col">
                                    <div class="py-2 text-uppercase">{{'adminProduct.name' | translate}}</div>
                                </th>
                                <th scope="col">
                                    <div class="p-2 px-3 text-uppercase">{{'adminProduct.price' | translate}}</div>
                                </th>
                                <th scope="col">
                                    <div class="p-2 px-3 text-uppercase">{{'adminProduct.edit' | translate}}</div>
                                </th>
                                <th scope="col">
                                    <div class="p-2 px-3 text-uppercase">{{'adminProduct.delete' | translate}}</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let product of products">
                                <td class="align-middle">{{product.id}}</td>
                                <td>
                                    <div class="p-2">
                                        <img src="{{product.pictureUrl || '/assets/images/placeholder.png'}}" alt="{{product.name}}" class="img-fluid" style="max-height: 50px">
                                    </div>
                                </td>
                                <th class="align-middle">
                                    <h5>{{product.name}}</h5>
                                </th>
                                <td class="align-middle">{{product.price | currency}}</td>
                                <td class="align-middle"><button [routerLink]="['edit', product.id]" class="btn btn-warning">{{'adminProduct.edit' | translate}}</button></td>
                                <td class="align-middle"><button (click)="deleteProduct(product.id)" class="btn btn-danger">{{'adminProduct.delete' | translate}}</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="d-flex justify-content-center" *ngIf="totalCount > 0">
                    <app-pager [pageSize]="shopParams.pageSize" [pageNumber]="shopParams.pageNumber" [totalCount]="totalCount" (pageChanged)="onPageChanged($event)"></app-pager>
                </div>
            </div>
        </div>
    </div>
</section>